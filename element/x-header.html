<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="add-new-task.html">

<polymer-element name="x-header">
	<template>
		<style>
			.header { height: 3.2em; margin-bottom: 1.2em; }
			
			.row { display: table; width: 100%; height: 100%; }
			.col { display: table-cell; width: 1%; height: 3.2em; vertical-align: top; }
			
			.col.logo { width: 12%; }
			.logo img { height: 100%; width: auto; }
			
			.col.add-new { width: 88%; padding-left: 0.7em; }
		</style>
		<div class="header">
			<div class="row">
				<div class="col logo" on-tap="{{onTapLogo}}">
					<img src="../img/logo.svg" alt="logo">
				</div>
				<div class="col add-new">
					<add-new-task on-tap="{{openNewTask}}"></add-new-task>
				</div>
			</div>
		</div>
	</template>
	<script>
		(function(app) {
			
			Polymer({
				
				publish: {
					onTapLogo: null
				},
				
				openNewTask: function(evt) {
					if (evt) {
						evt.preventDefault();
					}
					app.route.open("/todos/new");
				}
				
			});
			
		})(window.TodAi);
	</script>
</polymer-element>
